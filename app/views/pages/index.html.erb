<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
<link href='https://fonts.googleapis.com/css?family=Indie+Flower' rel='stylesheet' type='text/css'>



<div class="video-div">
  <%= image_tag 'fastf.png', alt: "fast foward icon" , id:"fast-foward" %>
  <%= video_tag "3.mp4", controls: false, autoplay: true, loop: false, muted: true,id: "bgvid"%>
    <div id="text-index">
      <div class="text-center">
        <h1 id="name">Daniel Villegas Sainz</h1>
        <br>
        <br>
        <%= link_to 'Profile   ' , dani_path ,id:"projects-button-1" %>
        <%= link_to  "Projects", projects_path , id:"projects-button"%>
      </div>
    </div>
</div>




<script type='text/javascript'>
document.getElementById('bgvid').addEventListener('ended',myHandler,false);
function myHandler(e) {
    console.log('ended')
    // Removes the video once it's done playing and places a background image with a transition!! without this on end the last video frame is over our background"
    $('#fast-foward').remove();
    $("#bgvid").remove();
    $('.video-div').css({ 'background': 'url(<%= asset_path('10.jpeg') %>) no-repeat',
                          'background-size': 'cover'});
}
$('#fast-foward').click(function(){
  $("#bgvid").remove();
  $('#fast-foward').remove();
  $('.video-div').css({ 'background': 'url(<%= asset_path('10.jpeg') %>) no-repeat',
                        'background-size': 'cover'});
});
</script>
